#####################
# Government Building
#####################
building_ae_ancient_palace = {
	base_buildtime = 900
	capital = yes
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	can_build = no
	category = government
	potential = {
		exists = owner
		owner = {
			is_regular_empire = yes
			has_technology = tech_ae_ancient_palace
		}
	}
	convert_to = {
		building_ae_ancient_control_center
		building_ae_ancient_hive_cluster
	}
	allow = {
		num_pops >= 20
	}
	prerequisites = {
		"tech_ae_ancient_palace"
	}
	show_tech_unlock_if = {
		is_regular_empire = yes
	}
	planet_modifier = {
		planet_housing_add = 50
		planet_amenities_add = 50
		planet_max_districts_add = 5
		trade_value_add = 15
		trade_value_mult = 1
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire = no
			}
			NOR = {
				is_planet_class = pc_dark_fractured
				is_planet_class = pc_dark_fractured_ae
			}
		}
		modifier = {
			job_acot_overlord_add = 1
			job_acot_overseer_add = 8
			job_acot_enforcer_add = 8
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_mechanical_empire = yes
			}
		}
		job_acot_roboman_add = 2
	}
	##### FOR FE ###
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire_spiritualist = no
				is_fallen_empire = yes
			}
		}
		modifier = {
			job_fe_overseer_add = 8
			job_fe_protector_add = 8
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire_spiritualist = yes
				is_fallen_empire = yes
			}
		}
		modifier = {
			job_fe_sky_cardinal_add = 8
			job_fe_protector_add = 8
		}
	}
	resources = {
		category = planet_buildings
		produces = {
			energy = 40
			sr_dark_matter = 20
			acot_sr_dark_energy = 20
		}
		produces = {
			trigger = {
				is_planet_class = pc_dark_fractured
			}
			energy = 20
			sr_dark_matter = 10
			acot_sr_dark_energy = 10
		}
		produces = {
			trigger = {
				is_planet_class = pc_dark_fractured_ae
			}
			energy = 40
			sr_dark_matter = 20
			acot_sr_dark_energy = 20
		}
		produces = {
			trigger = {
				is_planet_class = pc_acot_enigmopolis
			}
			energy = 120
			sr_dark_matter = 60
			acot_sr_dark_energy = 60
		}
		cost = {
			minerals = 500
			influence = 100
			sr_dark_matter = 5000
			acot_sr_dark_energy = 5000
		}
	}
	ai_weight = {
		weight = 100
	}
}

# Supra Nexus
building_ae_ancient_control_center = {
	base_buildtime = 900
	capital = yes
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	category = government
	potential = {
		exists = owner
		owner = {
			is_machine_empire = yes
			has_technology = tech_ae_ancient_control_center
		}
	}
	convert_to = {
		building_ae_ancient_palace
		building_ae_ancient_hive_cluster
	}
	allow = {
		num_pops >= 20
	}
	prerequisites = {
		"tech_ae_ancient_control_center"
	}
	show_tech_unlock_if = {
		is_machine_empire = yes
	}
	planet_modifier = {
		planet_housing_add = 50
		planet_amenities_add = 50
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_machine_empire = no
			}
		}
		modifier = {
			job_acot_overlord_droid_add = 1
			job_acot_overseer_droid_add = 8
			job_acot_enforcer_drone_add = 8
			job_acot_robodrone_add = 4
		}
	}
	##### FOR FE ###
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_machine_empire = yes
			}
		}
		modifier = {
			job_fe_guardian_bot_add = 20
		}
	}
	resources = {
		category = planet_buildings
		produces = {
			energy = 40
			sr_dark_matter = 20
			acot_sr_dark_energy = 20
		}
		produces = {
			trigger = {
				is_planet_class = pc_dark_fractured
			}
			energy = 20
			sr_dark_matter = 10
			acot_sr_dark_energy = 10
		}
		produces = {
			trigger = {
				is_planet_class = pc_dark_fractured_ae
			}
			energy = 40
			sr_dark_matter = 20
			acot_sr_dark_energy = 20
		}
		produces = {
			trigger = {
				is_planet_class = pc_acot_enigmopolis
			}
			energy = 120
			sr_dark_matter = 60
			acot_sr_dark_energy = 60
		}
		cost = {
			minerals = 500
			influence = 100
			sr_dark_matter = 5000
			acot_sr_dark_energy = 5000
		}
	}
	ai_weight = {
		weight = 100
	}
}

# Hive Nexus
building_ae_ancient_hive_cluster = {
	base_buildtime = 900
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	can_be_disabled = no
	category = government
	potential = {
		exists = owner
		owner = {
			is_hive_empire = yes
			has_technology = tech_ae_ancient_hive_cluster
		}
	}
	convert_to = {
		building_ae_ancient_control_center
		building_ae_ancient_palace
	}
	allow = {
		num_pops >= 25
	}
	prerequisites = {
		"tech_ae_ancient_hive_cluster"
	}
	show_tech_unlock_if = {
		is_hive_empire = yes
	}
	planet_modifier = {
		planet_housing_add = 50
		planet_amenities_add = 50
		job_acot_overlord_drone_add = 1
		job_acot_overseer_drone_add = 8
		job_acot_enforcer_drone_add = 8
	}
	resources = {
		category = planet_buildings
		produces = {
			energy = 40
			sr_dark_matter = 20
			acot_sr_dark_energy = 20
		}
		produces = {
			trigger = {
				is_planet_class = pc_dark_fractured
			}
			energy = 20
			sr_dark_matter = 10
			acot_sr_dark_energy = 10
		}
		produces = {
			trigger = {
				is_planet_class = pc_dark_fractured_ae
			}
			energy = 40
			sr_dark_matter = 20
			acot_sr_dark_energy = 20
		}
		produces = {
			trigger = {
				is_planet_class = pc_acot_enigmopolis
			}
			energy = 120
			sr_dark_matter = 60
			acot_sr_dark_energy = 60
		}
		cost = {
			minerals = 500
			influence = 100
			sr_dark_matter = 5000
			acot_sr_dark_energy = 5000
		}
	}
	ai_weight = {
		weight = 100
	}
}

#####################
# Enigmatic Building
#####################
building_ae_affluence_center = {
	base_buildtime = 600
	can_demolish = yes
	can_build = no
	category = manufacturing
	potential = {
		exists = owner
		owner = {
			has_technology = tech_aot_ae_affluence_center
		}
	}
	prerequisites = {
		tech_aot_ae_affluence_center
	}
	allow = {
		has_ascended_capital = yes
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 250
			sr_dark_matter = 750
			acot_sr_dark_energy = 750
		}
		produces = {
			consumer_goods = 150
			unity = 300
		}
		upkeep = {
			acot_sr_dark_energy = 10
			sr_dark_matter = 10
		}
	}
	upgrades = {
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 5
			owner = {
				has_monthly_income = {
					resource = consumer_goods
					value < 10
				}
				has_monthly_income = {
					resource = minerals
					value > 12
				}
			}
		}
	}
	ai_resource_production = {
		consumer_goods = 6
		trigger = {
			always = yes
		}
	}
}

building_ae_nourishment_center = {
	base_buildtime = 600
	can_demolish = yes
	can_build = no
	category = resource
	potential = {
		exists = owner
		owner = {
			has_technology = tech_aot_ae_nourishment_center
		}
	}
	prerequisites = {
		"tech_aot_ae_nourishment_center"
	}
	allow = {
		has_ascended_capital = yes
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 250
			sr_dark_matter = 750
			acot_sr_dark_energy = 750
		}
		produces = {
			food = 300
		}
		upkeep = {
			sr_dark_matter = 10
			acot_sr_dark_energy = 10
		}
	}
	upgrades = {
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 5
			owner = {
				has_monthly_income = {
					resource = food
					value < 10
				}
			}
		}
	}
	ai_resource_production = {
		food = 10
		trigger = {
			always = yes
		}
	}
}

building_ae_dimensional_fabricator = {
	base_buildtime = 600
	can_demolish = yes
	can_build = no
	category = resource
	potential = {
		exists = owner
		owner = {
			has_technology = tech_aot_ae_dimensional_fabricator
		}
	}
	prerequisites = {
		"tech_aot_ae_dimensional_fabricator"
	}
	allow = {
		has_ascended_capital = yes
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 250
			acot_sr_dark_energy = 750
			sr_dark_matter = 750
		}
		produces = {
			minerals = 300
			rare_crystals = 8
			exotic_gases = 8
			volatile_motes = 8
			sr_zro = 8
			sr_living_metal = 8
			sr_dark_matter = 60
		}
		upkeep = {
			acot_sr_dark_energy = 30
		}
	}
	upgrades = {
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 5
			owner = {
				has_monthly_income = {
					resource = minerals
					value < 10
				}
			}
		}
	}
	ai_resource_production = {
		minerals = 1000
		rare_crystals = 50
		exotic_gases = 50
		volatile_motes = 50
		sr_living_metal = 25
		trigger = {
			always = yes
		}
	}
}

building_ae_class_4_singularity = {
	base_buildtime = 600
	can_demolish = yes
	can_build = no
	category = resource
	prerequisites = {
		"tech_aot_ae_class_4_singularity"
	}
	potential = {
		exists = owner
		owner = {
			has_technology = tech_aot_ae_class_4_singularity
		}
	}
	allow = {
		has_ascended_capital = yes
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 250
			acot_sr_dark_energy = 750
			sr_dark_matter = 750
		}
		produces = {
			energy = 600
			acot_sr_dark_energy = 60
		}
		upkeep = {
			sr_dark_matter = 30
		}
	}
	upgrades = {
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 5
			owner = {
				has_monthly_income = {
					resource = energy
					value < 20
				}
			}
		}
	}
	ai_resource_production = {
		energy = 800
		trigger = {
			always = yes
		}
	}
}

building_ae_nano_forge = {
	base_buildtime = 600
	can_demolish = yes
	can_build = no
	category = manufacturing
	prerequisites = {
		"tech_aot_ae_nano_forge"
	}
	potential = {
		exists = owner
		owner = {
			has_technology = tech_aot_ae_nano_forge
		}
	}
	allow = {
		has_ascended_capital = yes
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 100
			sr_dark_matter = 1000
			acot_sr_dark_energy = 1000
		}
		produces = {
			alloys = 100
		}
		upkeep = {
			acot_sr_dark_energy = 30
			sr_dark_matter = 30
		}
	}
	upgrades = {
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 5
			owner = {
				has_monthly_income = {
					resource = alloys
					value < 30
				}
			}
		}
	}
	ai_resource_production = {
		alloys = 100
		trigger = {
			always = yes
		}
	}
}

building_ae_master_archive = {
	base_buildtime = 600
	can_demolish = yes
	can_build = no
	category = research
	prerequisites = {
		"tech_aot_ae_master_archive"
	}
	potential = {
		exists = owner
		owner = {
			has_technology = tech_aot_ae_master_archive
		}
	}
	allow = {
		has_ascended_capital = yes
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				is_fallen_empire = no
			}
		}
		modifier = {
			job_acot_researcher_add = 6
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_hive_empire = yes
				is_fallen_empire = no
			}
		}
		modifier = {
			job_acot_researcher_add = 4
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		modifier = {
			job_acot_researcher_add = 4
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire = yes
			}
		}
		job_fe_archivist_add = 15
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 150
			acot_sr_dark_energy = 1500
			sr_dark_matter = 1500
		}
		produces = {
			physics_research = 250
			society_research = 250
			engineering_research = 250
		}
		upkeep = {
			acot_sr_dark_energy = 15
			sr_dark_matter = 15
		}
	}
	upgrades = {
	}
	ai_weight = {
		weight = 100
	}
	ai_resource_production = {
		physics_research = 500
		society_research = 500
		engineering_research = 500
		trigger = {
			always = yes
		}
	}
}

building_ae_empyrean_shrine = {
	base_buildtime = 600
	can_demolish = yes
	can_build = no
	category = unity
	prerequisites = {
		"tech_aot_ae_empyrean_shrine"
	}
	potential = {
		exists = owner
		owner = {
			has_technology = tech_aot_ae_empyrean_shrine
		}
	}
	allow = {
		has_ascended_capital = yes
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire = yes
			}
		}
		job_fe_augur_add = 8
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire = no
				is_spiritualist = yes
			}
		}
		job_acot_priest_add = 4
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_fallen_empire = no
				is_spiritualist = no
			}
		}
		job_researcher_add = 4
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 150
			sr_dark_matter = 600
			acot_sr_dark_energy = 600
		}
		produces = {
			society_research = 80
			unity = 80
			influence = 1
		}
		upkeep = {
			sr_dark_matter = 15
			acot_sr_dark_energy = 15
		}
	}
	upgrades = {
	}
	ai_weight = {
		weight = 100
	}
}

building_ae_sky_dome = {
	base_buildtime = 600
	can_build = no
	category = amenity
	prerequisites = {
		"tech_aot_ae_sky_dome"
	}
	potential = {
		exists = owner
		owner = {
			has_technology = tech_aot_ae_sky_dome
		}
	}
	allow = {
		has_ascended_capital = yes
	}
	planet_modifier = {
		planet_housing_add = 100
		planet_amenities_add = 100
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 150
			sr_dark_matter = 750
			acot_sr_dark_energy = 750
		}
		upkeep = {
			sr_dark_matter = 20
			acot_sr_dark_energy = 20
		}
	}
	upgrades = {
	}
	ai_weight = {
		weight = 5
	}
}

building_ae_stronghold = {
	base_buildtime = 400
	planetary_ftl_inhibitor = yes
	add_to_first_building_slot = yes
	can_build = no
	category = army
	allow = {
		has_ascended_capital = yes
	}
	planet_modifier = {
		planet_housing_add = 10
	}
	potential = {
		exists = owner
		owner = {
			has_technology = tech_ae_stronghold
		}
	}
	triggered_planet_modifier = {
		potential = {
			owner = {
				is_fallen_empire = no
				is_gestalt = no
			}
		}
		modifier = {
			job_acot_enforcer_add = 4
		}
	}
	triggered_planet_modifier = {
		potential = {
			owner = {
				is_fallen_empire = no
				is_gestalt = yes
			}
		}
		modifier = {
			job_acot_enforcer_drone_add = 4
		}
	}
	triggered_planet_modifier = {
		potential = {
			owner = {
				is_fallen_empire = yes
			}
		}
		modifier = {
			job_fe_protector_add = 5
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 100
			sr_dark_matter = 400
			acot_sr_dark_energy = 400
		}
		upkeep = {
			trigger = {
				owner = {
					is_ai = no
				}
			}
			sr_dark_matter = 10
			acot_sr_dark_energy = 10
		}
	}
	prerequisites = {
		"tech_ae_stronghold"
	}
	ai_weight = {
		weight = 0
		modifier = {
			weight = 100000
			num_pops >= 40
			NOR = {
				num_buildings = {
					type = building_ae_stronghold
					value <= 2
				}
			}
			owner = {
				has_monthly_income = {
					resource = sr_dark_matter
					value <= 3
				}
			}
		}
	}
}

building_ae_dark_energy_psg = {
	base_buildtime = 500
	add_to_first_building_slot = yes
	can_build = no
	category = army
	allow = {
		has_ascended_capital = yes
	}
	planet_modifier = {
		planet_orbital_bombardment_damage = -0.95
	}
	potential = {
		exists = owner
		owner = {
			has_technology = tech_ae_dark_energy_psg
		}
	}
	resources = {
		category = planet_buildings
		cost = {
			acot_sr_dark_energy = 150
		}
		upkeep = {
			trigger = {
				owner = {
					is_ai = no
				}
			}
			acot_sr_dark_energy = 2
		}
	}
	prerequisites = {
		"tech_ae_dark_energy_psg"
	}
	ai_weight = {
		weight = 15000
	}
}

building_ae_ancient_cryo_chamber = {
	base_buildtime = 450
	can_demolish = yes
	can_build = no
	category = amenity
	potential = {
		owner = {
			is_machine_empire = yes
			has_technology = tech_ae_ancient_cryo_chamber
		}
	}
	convert_to = {
		building_ae_mansion
		building_ae_hive_depot
	}
	allow = {
		has_ascended_capital = yes
	}
	planet_modifier = {
		planet_housing_add = 35
		planet_amenities_add = 35
		job_maintenance_drone_add = 5
	}
	resources = {
		category = planet_buildings
		cost = {
			minerals = 550
			sr_dark_matter = 50
			acot_sr_dark_energy = 50
		}
		upkeep = {
			energy = 2
			sr_dark_matter = 2
			acot_sr_dark_energy = 2
		}
	}
	prerequisites = {
		"tech_ae_ancient_cryo_chamber"
	}
	ai_weight = {
		weight = 10
		modifier = {
			factor = 20000
			free_housing < 0
		}
		modifier = {
			factor = 30000
			free_amenities < 2
		}
		modifier = {
			factor = 0
			free_housing > 1
		}
	}
}
